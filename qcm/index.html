<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Madilium | R√©vision Anatomie Interactive</title>
<style>
:root{--primary:#4f46e5;--primary-dark:#4338ca;--grad:linear-gradient(135deg,#4f46e5 0%,#8b5cf6 100%);--succ:#10b981;--err:#ef4444;--bg:#f8fafc;--txt:#1e293b}
*{box-sizing:border-box;font-family:'Segoe UI',sans-serif}
body{margin:0;padding:0;background:var(--bg);color:var(--txt);min-height:100vh;display:flex;flex-direction:column}
header{background:white;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 20px rgba(0,0,0,0.05);position:sticky;top:0;z-index:100}
.logo{font-weight:800;font-size:1.5rem;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
main{flex:1;max-width:850px;width:100%;margin:2rem auto;padding:0 1.5rem}
.card{background:white;border-radius:20px;padding:2rem;box-shadow:0 10px 30px -5px rgba(79,70,229,0.1);border:1px solid #e2e8f0}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}
.btn-course{background:white;border:2px solid transparent;padding:1.5rem;border-radius:12px;cursor:pointer;text-align:center;box-shadow:0 4px 6px -1px rgba(0,0,0,0.05);position:relative;overflow:hidden;transition:0.3s}
.btn-course::before{content:'';position:absolute;top:0;left:0;width:100%;height:4px;background:var(--grad)}
.btn-course:hover{transform:translateY(-3px);box-shadow:0 10px 20px -5px rgba(79,70,229,0.15)}
.hidden{display:none!important}
.prog-wrap{background:#e2e8f0;height:8px;border-radius:4px;margin-bottom:2rem;overflow:hidden}
.prog-bar{height:100%;background:var(--grad);width:0%;transition:width 0.4s ease}
.q-text{font-size:1.25rem;font-weight:700;margin-bottom:1.5rem;color:var(--txt)}
.opts{display:flex;flex-direction:column;gap:0.8rem}
.opt-btn{padding:1rem;border:2px solid #e2e8f0;border-radius:10px;background:white;cursor:pointer;text-align:left;font-size:1rem;transition:0.2s}
.opt-btn:hover:not(:disabled){border-color:var(--primary);background:#eef2ff}
.opt-btn.correct{background:#dcfce7;border-color:var(--succ);color:#166534}
.opt-btn.wrong{background:#fee2e2;border-color:var(--err);color:#991b1b}
.feed{margin-top:1.5rem;padding:1.2rem;border-radius:10px;background:#f1f5f9;border-left:5px solid var(--primary);animation:slide 0.3s}
.btn-act{background:var(--grad);color:white;border:none;padding:0.8rem 2rem;border-radius:30px;font-weight:700;cursor:pointer;margin-top:2rem;float:right}
.score-box{width:140px;height:140px;border-radius:50%;background:conic-gradient(var(--primary) 0%,#e2e8f0 0%);margin:0 auto 2rem;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:800;position:relative}
.score-box::before{content:'';position:absolute;width:110px;height:110px;background:white;border-radius:50%}
.score-val{position:relative;z-index:2}
@keyframes slide{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>

<header>
    <div class="logo">MADILIUM</div>
    <div style="font-weight:600;color:#64748b">Anatomie</div>
</header>

<main>
    <div id="menu" class="card">
        <h2 style="margin-top:0;">Modules de R√©vision</h2>
        <div class="grid">
            <button class="btn-course" onclick="init('peritoine')"><strong>1. P√©ritoine</strong></button>
            <button class="btn-course" onclick="init('estomac')"><strong>2. Estomac</strong></button>
            <button class="btn-course" onclick="init('bdp')"><strong>3. Bloc Duod√©no-P.</strong></button>
            <button class="btn-course" onclick="init('orale')"><strong>4. Cavit√© Orale</strong></button>
            <button class="btn-course" onclick="init('oesophage')"><strong>5. ≈ísophage</strong></button>
            <button class="btn-course" onclick="init('paroi')"><strong>6. Paroi Abdo</strong></button>
        </div>
    </div>

    <div id="quiz" class="card hidden">
        <div class="prog-wrap"><div class="prog-bar" id="bar"></div></div>
        <div id="q-txt" class="q-text">...</div>
        <div class="opts" id="opts"></div>
        <div id="feed" class="feed hidden">
            <strong style="color:var(--primary)">Explication :</strong>
            <p id="expl" style="margin:0.5rem 0 0 0"></p>
        </div>
        <button id="next" class="btn-act hidden" onclick="nextQ()">Suivant</button>
        <button id="end" class="btn-act hidden" onclick="result()">R√©sultats</button>
        <div style="clear:both;padding-top:20px"><button onclick="home()" style="background:none;border:none;color:#64748b;cursor:pointer">‚úï Quitter</button></div>
    </div>

    <div id="res" class="card hidden" style="text-align:center">
        <h2>R√©sultat</h2>
        <div class="score-box" id="circle"><span class="score-val" id="score">0%</span></div>
        <p id="msg" style="font-size:1.1rem;margin-bottom:2rem"></p>
        <button class="btn-act" style="float:none" onclick="home()">Menu Principal</button>
    </div>
</main>

<script>
const db={
    'peritoine':[
        [cite_start]{q:"D√©finition exacte des √©piploons (omentums) ?",o:["Relient tube digestif √† paroi","Relient 2 organes intra-abdominaux","Rattachent organes hors tube digestif","Fascias d'accolement"],c:1,e:"Les √©piploons relient deux organes intra-abdominaux et contiennent des vaisseaux[cite: 220]."},
        [cite_start]{q:"Limites ant√©rieures du Hiatus de Winslow ?",o:["Veine cave inf√©rieure","Tronc c≈ìliaque","Bord libre du petit √©piploon","Ligament gastro-spl√©nique"],c:2,e:"Limit√© en avant par le bord libre du petit √©piploon et en arri√®re par la VCI[cite: 259]."},
        [cite_start]{q:"Point le plus d√©clive de la cavit√© p√©riton√©ale ?",o:["Espace sous-phr√©nique","Cul-de-sac de Douglas","Goutti√®re pari√©to-colique","Arri√®re-cavit√©"],c:1,e:"Le cul-de-sac de Douglas est le point le plus bas (accessible au toucher rectal)[cite: 255]."},
        [cite_start]{q:"Le fascia de Treitz correspond √† :",o:["Accolement c√¥lon ascendant","Accolement bloc duod√©no-pancr√©atique","Accolement c√¥lon descendant","Ligament suspenseur"],c:1,e:"Le fascia de Treitz fixe le duod√©no-pancr√©as √† la paroi post√©rieure[cite: 223]."},
        [cite_start]{q:"Seul organe v√©ritablement 'intra-p√©riton√©al' ?",o:["Estomac","Ovaire","Foie","Rate"],c:1,e:"L'ovaire est le seul organe intra-p√©riton√©al vrai (non recouvert de p√©ritoine)[cite: 236]."},
        [cite_start]{q:"La bourse omentale permet :",o:["Glissement de l'estomac","Fixation du foie","Protection vessie","Passage aorte"],c:0,e:"C'est un espace de glissement situ√© en arri√®re de l'estomac[cite: 259]."}
    ],
    'estomac':[
        [cite_start]{q:"Cercle art√©riel de la petite courbure form√© par :",o:["Gastro-omentale D+G","Spl√©nique + H√©patique","Gastrique G + Gastrique D","Mesent√©rique sup + inf"],c:2,e:"Anastomose de l'a. gastrique gauche et gastrique droite [cite: 82-83]."},
        [cite_start]{q:"Sphincter lisse √† la sortie de l'estomac :",o:["Cardia","Pylore","Sphincter d'Oddi","Angle de His"],c:1,e:"Le pylore est muni d'un sphincter lisse s√©parant l'estomac du duod√©num[cite: 23]."},
        [cite_start]{q:"Rapports post√©rieurs de l'estomac (via bourse omentale) :",o:["Foie","Pancr√©as, rein G, surr√©nale G","C√¥lon droit","Vessie"],c:1,e:"L'estomac repose sur le corps/queue du pancr√©as, le rein gauche et la surr√©nale gauche[cite: 66]."},
        [cite_start]{q:"Couche musculaire la plus profonde de l'estomac :",o:["Longitudinale","Circulaire","Oblique","Transversale"],c:2,e:"La tunique musculeuse profonde est oblique[cite: 48]."},
        [cite_start]{q:"Drainage lymphatique des 2/3 m√©diaux (vertical) :",o:["N≈ìuds spl√©niques","N≈ìuds gastriques gauches","N≈ìuds h√©patiques","N≈ìuds m√©sent√©riques"],c:1,e:"Vers la cha√Æne gastrique gauche[cite: 93]."},
        [cite_start]{q:"Le nerf vague gauche innerve principalement :",o:["Face post√©rieure","Face ant√©rieure","Pylore seul","Fundus seul"],c:1,e:"Le vague gauche donne le nerf principal ant√©rieur[cite: 100]."}
    ],
    'bdp':[
        [cite_start]{q:"Le Bloc Duod√©no-Pancr√©atique comprend :",o:["Tout le pancr√©as","T√™te et isthme + duod√©num","Queue + duod√©num","Corps + j√©junum"],c:1,e:"T√™te et isthme sont solidaires du cadre duod√©nal (fascia de Treitz)[cite: 352]."},
        [cite_start]{q:"L'ampoule de Vater s'ouvre au niveau de :",o:["Petite caroncule","Grande caroncule","D1 (Bulbe)","D3"],c:1,e:"Dans D2 au niveau de la grande caroncule[cite: 281]."},
        [cite_start]{q:"Vascularisation t√™te du pancr√©as :",o:["Spl√©nique seule","Arcades pancr√©atico-duod√©nales","R√©nale","Colique"],c:1,e:"Par les arcades sup. et inf. issues de la gastro-duod√©nale et de l'AMS[cite: 436]."},
        [cite_start]{q:"Veine porte se forme en arri√®re de :",o:["T√™te pancr√©as","Isthme pancr√©as","Queue pancr√©as","Duod√©num"],c:1,e:"Confluence veineuse porte juste derri√®re l'isthme[cite: 396]."},
        [cite_start]{q:"Conduit pancr√©atique accessoire (Santorini) s'ouvre dans :",o:["Grande caroncule","Petite caroncule","Ampoule de Vater","Canal chol√©doque"],c:1,e:"Au niveau de la petite caroncule[cite: 323]."},
        [cite_start]{q:"Rapport post√©rieur vasculaire majeur du BDP :",o:["Aorte et VCI","Art√®re f√©morale","Veine jugulaire","Tronc pulmonaire"],c:0,e:"Le bloc est plaqu√© contre l'aorte et la veine cave inf√©rieure[cite: 413]."}
    ],
    'orale':[
        [cite_start]{q:"Innervation sensitive des 2/3 ant√©rieurs langue :",o:["Glossopharyngien (IX)","Vague (X)","Lingual (V)","Hypoglosse (XII)"],c:2,e:"Le nerf lingual (V) pour les 2/3 ant√©rieurs[cite: 159]."},
        [cite_start]{q:"Canal de St√©non (parotide) s'abouche :",o:["Sous la langue","En regard collet 2√®me molaire sup.","Fond vestibule","Niveau frein lingual"],c:1,e:"En regard du collet de la 2√®me molaire sup√©rieure[cite: 180]."},
        [cite_start]{q:"Action du muscle g√©nio-glosse :",o:["R√©traction","√âl√©vation","Protraction (tirer)","√âlargissement"],c:2,e:"Il attire la langue en bas et en avant (protraction)[cite: 144]."},
        [cite_start]{q:"Nerf traversant la parotide (danger) :",o:["Facial (VII)","Trijumeau (V)","Vague (X)","Spinal (XI)"],c:0,e:"Le nerf facial traverse la glande[cite: 172]."},
        [cite_start]{q:"Plancher buccal form√© principalement par :",o:["Mylo-hyo√Ødien","G√©nio-glosse","Digastrique","Stylo-glosse"],c:0,e:"Le mylo-hyo√Ødien forme le 'diaphragme buccal'[cite: 132]."},
        [cite_start]{q:"Glande submandibulaire drain√©e par canal de :",o:["St√©non","Wharton","Wirsung","Santorini"],c:1,e:"Le canal de Wharton[cite: 192]."}
    ],
    'oesophage':[
        [cite_start]{q:"Limites vert√©brales ≈ìsophage :",o:["C4 √† Th10","C6 √† Th11","Th1 √† L2","C2 √† C7"],c:1,e:"De C6 jusqu'√† Th11[cite: 566]."},
        [cite_start]{q:"Au niveau abdominal, nerf vague DROIT situ√© :",o:["En avant","En arri√®re","Sur le flanc","Absent"],c:1,e:"Le vague droit passe en post√©rieur[cite: 595]."},
        [cite_start]{q:"PAS un moyen anti-reflux :",o:["Angle de His","Valvule Gubaroff","Membrane phr√©no-≈ìsoph.","Sphincter stri√© sup."],c:3,e:"Le syst√®me anti-reflux est inf√©rieur (SIO)[cite: 606]."},
        [cite_start]{q:"L'≈ìsophage thoracique chemine dans :",o:["M√©diastin ant√©rieur","M√©diastin post√©rieur","Espace pleural","Cavit√© p√©ricardique"],c:1,e:"Contenu dans le m√©diastin post√©rieur[cite: 576]."},
        [cite_start]{q:"R√©tr√©cissement d√ª √† la crosse aortique :",o:["Crico√Ødien","Aortique","Diaphragmatique","Pylorique"],c:1,e:"R√©tr√©cissement aortique (croisement T4)[cite: 563]."},
        [cite_start]{q:"Drainage veineux r√©alise anastomose :",o:["Porto-Cave","Cavo-Cave","Porto-Porte","Art√©rio-Veineuse"],c:0,e:"Entre syst√®me cave (azygos) et porte (coronaire)[cite: 602]."}
    ],
    'paroi':[
        [cite_start]{q:"Ordre muscles larges (superficie -> profondeur) :",o:["Transv > Obl Int > Obl Ext","Obl Ext > Obl Int > Transv","Droit > Pyramidal","Int > Ext > Transv"],c:1,e:"Oblique Externe -> Interne -> Transverse[cite: 490]."},
        [cite_start]{q:"Plancher canal inguinal form√© par :",o:["Tendon conjoint","Ligament inguinal","Fascia transversalis","Grand droit"],c:1,e:"Le ligament inguinal forme la paroi inf√©rieure[cite: 545]."},
        [cite_start]{q:"Orifice inguinal profond creus√© dans :",o:["Apon√©vrose Obl Ext","Fascia transversalis","Peau","P√©ritoine"],c:1,e:"Ouvert dans la paroi post√©rieure (fascia transversalis)[cite: 543]."},
        [cite_start]{q:"Hernie passant par fosse inguinale lat√©rale :",o:["Directe","Indirecte","Ombilicale","Crurale"],c:1,e:"Les hernies indirectes passent par la fosse lat√©rale[cite: 527]."},
        [cite_start]{q:"Gaine des droits sous ligne arqu√©e (Douglas) :",o:["Est compl√®te","N'a plus de feuillet post√©rieur","Tr√®s √©paisse","Contient pyramidal"],c:1,e:"Le feuillet post√©rieur dispara√Æt √† ce niveau[cite: 518]."},
        [cite_start]{q:"Innervation motrice principale :",o:["Vague","Intercostaux + Ilio-hypogastrique","Plexus brachial","Sciatique"],c:1,e:"Nerfs thoraco-abdominaux et ilio-hypogastrique[cite: 501]."}
    ]
};

let curr=[], idx=0, score=0;
const dom={menu:document.getElementById('menu'),quiz:document.getElementById('quiz'),res:document.getElementById('res'),q:document.getElementById('q-txt'),opts:document.getElementById('opts'),bar:document.getElementById('bar'),feed:document.getElementById('feed'),expl:document.getElementById('expl'),next:document.getElementById('next'),end:document.getElementById('end'),circ:document.getElementById('circle'),val:document.getElementById('score'),msg:document.getElementById('msg')};

function init(id){
    if(!db[id]) return;
    curr=db[id]; idx=0; score=0;
    dom.menu.classList.add('hidden'); dom.res.classList.add('hidden'); dom.quiz.classList.remove('hidden');
    render();
}
function render(){
    let q=curr[idx];
    dom.q.innerHTML=`<small style="color:#4f46e5">Question ${idx+1}/${curr.length}</small><br>${q.q}`;
    dom.opts.innerHTML=''; dom.feed.classList.add('hidden'); dom.next.classList.add('hidden'); dom.end.classList.add('hidden');
    dom.bar.style.width=((idx/curr.length)*100)+'%';
    q.o.forEach((opt,i)=>{
        let b=document.createElement('button'); b.className='opt-btn'; b.innerText=opt;
        b.onclick=()=>check(i,b); dom.opts.appendChild(b);
    });
}
function check(i,btn){
    let all=dom.opts.children; for(let b of all) b.disabled=true;
    let q=curr[idx];
    if(i===q.c){ btn.classList.add('correct'); score++; }
    else{ btn.classList.add('wrong'); all[q.c].classList.add('correct'); }
    dom.expl.innerText=q.e; dom.feed.classList.remove('hidden');
    if(idx<curr.length-1) dom.next.classList.remove('hidden'); else dom.end.classList.remove('hidden');
    dom.bar.style.width=(((idx+1)/curr.length)*100)+'%';
}
function nextQ(){ idx++; render(); }
function result(){
    dom.quiz.classList.add('hidden'); dom.res.classList.remove('hidden');
    let p=Math.round((score/curr.length)*100);
    dom.val.innerText=p+'%';
    dom.circ.style.background=`conic-gradient(var(--primary) ${p}%, #e2e8f0 0%)`;
    dom.msg.innerText=p===100?"ü•á Parfait !":p>=70?"üòé Bien jou√© !":p>=50?"üëç Pas mal.":"üìö √Ä revoir.";
}
function home(){ dom.res.classList.add('hidden'); dom.quiz.classList.add('hidden'); dom.menu.classList.remove('hidden'); }
</script>
</body>
</html>
